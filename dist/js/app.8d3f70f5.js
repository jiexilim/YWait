(function(e){function t(t){for(var r,s,o=t[0],u=t[1],c=t[2],d=0,m=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&m.push(n[s][0]),n[s]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(m.length)m.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],r=!0,o=1;o<a.length;o++){var u=a[o];0!==n[u]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=a[0]))}return e}var r={},n={app:0},i=[];function s(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=r,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(a,r,function(t){return e[t]}.bind(null,r));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var l=u;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"04d4":function(e,t,a){"use strict";a("139f")},"0526":function(e,t,a){"use strict";a("5814")},"09ce":function(e,t,a){e.exports=a.p+"img/logo.6895f6f5.png"},"0d09":function(e,t,a){"use strict";a("800d")},"0e75":function(e,t,a){},"0ef9":function(e,t,a){"use strict";a("31e0")},1195:function(e,t,a){"use strict";a("eab7")},"139f":function(e,t,a){},"31e0":function(e,t,a){},"4cc8":function(e,t,a){"use strict";a("6460")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("251e"),n=a.n(r),i=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("router-view")],1)},o=[],u={data:function(){return{}}},c=u,l=a("2877"),d=Object(l["a"])(c,s,o,!1,null,null,null),m=d.exports,h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"wrapper"}},[a("div",{staticClass:"card card-container"},[a("img",{attrs:{src:e.logo}}),a("p",[e._v("A Virtual Online Queueing System")]),a("form",{attrs:{id:"signup"},on:{submit:function(t){return t.preventDefault(),e.signup()}}},[a("p",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",name:"name",id:"name",placeholder:"Name",required:""},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),a("p",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"email",name:"email",id:"email",placeholder:"Email Address",required:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),a("p",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.contact,expression:"contact"}],attrs:{type:"tel",name:"contact",id:"contact",placeholder:"Contact Number",required:""},domProps:{value:e.contact},on:{input:function(t){t.target.composing||(e.contact=t.target.value)}}})]),a("p",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.dob,expression:"dob"}],attrs:{type:"date",name:"dob",id:"dob",placeholder:"Date of Birth",required:""},domProps:{value:e.dob},on:{input:function(t){t.target.composing||(e.dob=t.target.value)}}})]),a("p",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",name:"password",id:"password",placeholder:"Password",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),a("p",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.confirmPassword,expression:"confirmPassword"}],attrs:{type:"password",name:"confirmPassword",id:"confirmPassword",placeholder:"Confirm Password",required:""},domProps:{value:e.confirmPassword},on:{input:function(t){t.target.composing||(e.confirmPassword=t.target.value)}}})]),a("button",{attrs:{type:"submit"}},[e._v("Sign Up")]),a("br"),a("br"),e._v(" Have an account? Login "),a("router-link",{attrs:{to:"/",exact:""}},[e._v("here")]),e._v("! ")],1)])])},p=[],f=(a("5319"),a("ac1f"),a("b0c0"),a("33ee")),v=a.n(f),g=(a("aade"),a("ff7c"),{apiKey:"AIzaSyCJ93UPVuVoF4o06VlutkA5YZXW5u0FAHc",authDomain:"ywait-2eeec.firebaseapp.com",projectId:"ywait-2eeec",storageBucket:"ywait-2eeec.appspot.com",messagingSenderId:"539277049460",appId:"1:539277049460:web:8ba1871ffb550eead31b21",measurementId:"G-L0RP3Z74N0"});v.a.initializeApp(g);var _=v.a.firestore(),b=v.a.auth(),y={data:function(){return{name:"",email:"",contact:null,dob:null,password:"",confirmPassword:"",logo:a("09ce")}},methods:{signup:function(){var e=this;this.password.length<6?alert("Password must contain at least 6 characters. Please check your password and try again."):this.password!=this.confirmPassword?alert("Passwords do not match. Please check your password and try again."):b.createUserWithEmailAndPassword(this.email,this.password).then((function(){if(e.password!=e.confirmPassword)throw new Error;alert("Successfully signed up!"),e.$router.replace({name:"Login"}),e.registerUser()})).catch((function(e){"auth/invalid-email"==e.code?alert("The email you entered is invalid. Please check your email and try again."):"auth/email-already-in-use"==e.code&&alert("Email already exists. Please enter a different email and try again.")}))},registerUser:function(){_.collection("users").doc("".concat(b.currentUser.uid)).set({customerID:b.currentUser.uid,name:this.name,email:b.currentUser.email,contact:this.contact,dob:this.dob})}}},w=y,C=(a("85ef"),Object(l["a"])(w,h,p,!1,null,"403ee515",null)),P=C.exports,N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sidenav"},[a("nav",[a("img",{attrs:{src:e.logo}}),a("ul",[a("li",[a("homeIcon",{staticClass:"icon"}),a("router-link",{attrs:{to:"/home",exact:""}},[e._v("Home")])],1),a("br"),a("li",[a("clockIcon",{staticClass:"icon"}),a("router-link",{attrs:{to:"/waitingqueue",exact:""}},[e._v("Waiting Queues")])],1),a("br"),a("li",[a("mapIcon",{staticClass:"icon"}),a("router-link",{attrs:{to:"/malls",exact:""}},[e._v("Malls")])],1),a("br"),a("li",[a("calendarIcon",{staticClass:"icon"}),a("router-link",{attrs:{to:"/joinq",exact:""}},[e._v("Join a Queue")])],1),a("br"),a("li",[a("profileIcon",{staticClass:"icon"}),a("router-link",{attrs:{to:"/myprofile",exact:""}},[e._v("My Profile")])],1),a("br"),a("br"),a("br")]),a("chatIcon",{staticClass:"chatIcon",attrs:{size:50}}),e._m(0),a("div",{staticClass:"logout"},[a("LogOutButton")],1)],1)])},k=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"help"},[a("h2",[e._v("Require any assistance?")]),a("p",{staticClass:"email"},[e._v("Email us at:")]),a("p",{staticClass:"emailLink"},[a("a",{attrs:{href:"mailto:help@YWait.com"}},[e._v("help@YWait.com")])])])}],D=a("68b6"),x=a("7b4f"),M=a("f6ba"),q=a("0d1f"),I=a("4524"),S=a("9ef9"),O={data:function(){return{logo:a("09ce")}},components:{homeIcon:D["a"],clockIcon:x["a"],mapIcon:M["a"],calendarIcon:q["a"],profileIcon:I["a"],chatIcon:S["a"]}},A=O,Q=(a("caa2"),Object(l["a"])(A,N,k,!1,null,"1530bca2",null)),R=Q.exports,j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("CalendarMonth")],1)},E=[],$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"calendar-month"},[a("div",{staticClass:"calendar-month-header"},[a("CalendarDateIndicator",{staticClass:"calendar-month-header-selected-month",attrs:{"selected-date":e.selectedDate}}),a("CalendarDateSelector",{attrs:{"current-date":e.today,"selected-date":e.selectedDate},on:{dateSelected:e.selectDate}})],1),a("CalendarWeekdays"),a("ol",{staticClass:"days-grid"},e._l(e.days,(function(t){return a("CalendarMonthDayItem",{key:t.date,attrs:{day:t,"is-today":t.date===e.today}})})),1)],1)},B=[],T=a("2909"),W=(a("99af4"),a("a9e3"),a("d81d"),a("5a0c")),L=a.n(W),Y=a("7e21"),U=a.n(Y),H=a("2a04"),G=a.n(H),F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"calendar-day",class:{"calendar-day--not-current":!e.day.isCurrentMonth,"calendar-day--today":e.isToday}},[a("span",[e._v(e._s(e.label))])])},J=[],z={name:"CalendarMonthDayItem",props:{day:{type:Object,required:!0},isCurrentMonth:{type:Boolean,default:!1},isToday:{type:Boolean,default:!1}},computed:{label:function(){return L()(this.day.date).format("D")}}},V=z,Z=(a("79d4"),Object(l["a"])(V,F,J,!1,null,"f2e7d512",null)),K=Z.exports,X=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"calendar-date-indicator"},[e._v(e._s(e.selectedMonth))])},ee=[],te={props:{selectedDate:{type:Object,required:!0}},computed:{selectedMonth:function(){return this.selectedDate.format("MMMM YYYY")}}},ae=te,re=(a("4cc8"),Object(l["a"])(ae,X,ee,!1,null,"87b2e0f8",null)),ne=re.exports,ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"calendar-date-selector"},[a("span",{on:{click:e.selectPrevious}}),a("span",{on:{click:e.selectCurrent}},[e._v("Today")]),a("span",{on:{click:e.selectNext}},[e._v(">")])])},se=[],oe={name:"CalendarModeSelector",props:{currentDate:{type:String,required:!0},selectedDate:{type:Object,required:!0}},methods:{selectPrevious:function(){var e=L()(this.selectedDate).subtract(1,"month");this.$emit("dateSelected",e)},selectCurrent:function(){var e=L()(this.currentDate);this.$emit("dateSelected",e)},selectNext:function(){var e=L()(this.selectedDate).add(1,"month");this.$emit("dateSelected",e)}}},ue=oe,ce=(a("0526"),Object(l["a"])(ue,ie,se,!1,null,"36f5b76f",null)),le=ce.exports,de=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ol",{staticClass:"day-of-week"},e._l(e.weekdays,(function(t){return a("li",{key:t},[e._v(e._s(t))])})),0)},me=[],he=["M","T","W","T","F","S","S"],pe={name:"CalendarWeekdays",computed:{weekdays:function(){return he}}},fe=pe,ve=(a("d98f"),Object(l["a"])(fe,de,me,!1,null,"4eaad17f",null)),ge=ve.exports;L.a.extend(U.a),L.a.extend(G.a);var _e={name:"CalendarMonth",components:{CalendarMonthDayItem:K,CalendarDateIndicator:ne,CalendarDateSelector:le,CalendarWeekdays:ge},data:function(){return{selectedDate:L()()}},computed:{days:function(){return[].concat(Object(T["a"])(this.previousMonthDays),Object(T["a"])(this.currentMonthDays),Object(T["a"])(this.nextMonthDays))},today:function(){return L()().format("YYYY-MM-DD")},month:function(){return Number(this.selectedDate.format("M"))},year:function(){return Number(this.selectedDate.format("YYYY"))},numberOfDaysInMonth:function(){return L()(this.selectedDate).daysInMonth()},currentMonthDays:function(){var e=this;return Object(T["a"])(Array(this.numberOfDaysInMonth)).map((function(t,a){return{date:L()("".concat(e.year,"-").concat(e.month,"-").concat(a+1)).format("YYYY-MM-DD"),isCurrentMonth:!0}}))},previousMonthDays:function(){var e=this.getWeekday(this.currentMonthDays[0].date),t=L()("".concat(this.year,"-").concat(this.month,"-01")).subtract(1,"month"),a=e?e-1:6,r=L()(this.currentMonthDays[0].date).subtract(a,"day").date();return Object(T["a"])(Array(a)).map((function(e,a){return{date:L()("".concat(t.year(),"-").concat(t.month()+1,"-").concat(r+a)).format("YYYY-MM-DD"),isCurrentMonth:!1}}))},nextMonthDays:function(){var e=this.getWeekday("".concat(this.year,"-").concat(this.month,"-").concat(this.currentMonthDays.length)),t=L()("".concat(this.year,"-").concat(this.month,"-01")).add(1,"month"),a=e?7-e:e;return Object(T["a"])(Array(a)).map((function(e,a){return{date:L()("".concat(t.year(),"-").concat(t.month()+1,"-").concat(a+1)).format("YYYY-MM-DD"),isCurrentMonth:!1}}))}},methods:{getWeekday:function(e){return L()(e).weekday()},selectDate:function(e){this.selectedDate=e}}},be=_e,ye=(a("6895"),Object(l["a"])(be,$,B,!1,null,"6550963c",null)),we=ye.exports,Ce={name:"App",components:{CalendarMonth:we}},Pe=Ce,Ne=(a("04d4"),Object(l["a"])(Pe,j,E,!1,null,null,null)),ke=Ne.exports,De=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"wrapper"}},[a("div",{staticClass:"card card-container"},[a("img",{attrs:{src:e.logo}}),a("p",[e._v("A Virtual Online Queueing System")]),a("form",{attrs:{id:"login"},on:{submit:function(t){return t.preventDefault(),e.login()}}},[a("emailIcon",{staticClass:"icon",attrs:{size:20}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"email",name:"email",id:"email",placeholder:"Email Address",required:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),a("br"),a("lockIcon",{staticClass:"icon",attrs:{size:20}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",name:"password",id:"password",placeholder:"Password",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),a("br"),a("button",{attrs:{type:"submit"}},[e._v("Login")]),a("br"),a("br"),e._v(" Don't have an account? Sign up "),a("router-link",{attrs:{to:"/signup",exact:""}},[e._v("here")]),e._v("! ")],1)])])},xe=[],Me=a("7767"),qe=a("b141"),Ie={data:function(){return{email:"",password:"",logo:a("09ce")}},methods:{login:function(){var e=this;b.signInWithEmailAndPassword(this.email,this.password).then((function(){_.collection("users").where("email","==",e.email).get().then((function(t){t.empty?(e.$router.replace({name:"RestaurantHome"}),console.log("Restaurant Login")):(e.$router.replace({name:"Home"}),console.log("User Login"))}))})).catch((function(e){"auth/invalid-email"==e.code?alert("The email you entered is invalid. Please check your email and try again."):"auth/user-not-found"==e.code?alert("The email you entered does not appear to belong to an account. Please check your email and try again."):"auth/wrong-password"==e.code&&alert("Incorrect password. Please check your password and try again.")}))}},components:{emailIcon:Me["a"],lockIcon:qe["a"]}},Se=Ie,Oe=(a("92fe"),Object(l["a"])(Se,De,xe,!1,null,"26297305",null)),Ae=Oe.exports,Qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{on:{click:function(t){return t.preventDefault(),e.logout()}}},[e._v("Log Out")])},Re=[],je={methods:{logout:function(){var e=this;b.signOut().then((function(){e.$router.push("/")}))}}},Ee=je,$e=(a("bdb7"),Object(l["a"])(Ee,Qe,Re,!1,null,"8b3b179c",null)),Be=$e.exports,Te=a("8c4f"),We=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("NavBar"),a("div",{attrs:{id:"wrapper"}},[a("h1",[e._v("Hi "+e._s(this.name)+"!")]),a("div",{attrs:{id:"joinQ"}},[a("router-link",{attrs:{to:"/joinq",exact:""}},[e._v("Join a Queue Here!")])],1),a("p"),a("div",{attrs:{id:"viewMalls"}},[a("router-link",{attrs:{to:"/malls",exact:""}},[e._v("View Malls")])],1),a("div",{attrs:{id:"calendar"}},[a("Calendar")],1)])],1)},Le=[],Ye={data:function(){return{name:""}},methods:{fetchItems:function(){var e=this;_.collection("users").doc("".concat(b.currentUser.uid)).get().then((function(t){e.name=t.data().name}))}},created:function(){this.fetchItems()}},Ue=Ye,He=(a("c0af"),Object(l["a"])(Ue,We,Le,!1,null,"77102bfc",null)),Ge=He.exports,Fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("NavBar"),a("div",{attrs:{id:"wrapper"}},[a("h1",[e._v("Waiting Queue")]),a("div",{attrs:{id:"filterBar"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterMall,expression:"filterMall"}],attrs:{id:"filterMall"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.filterMall=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"All",hidden:""}},[e._v("Select Mall")]),e._l(e.mallsList,(function(t){return a("option",{key:t.id,attrs:{id:"selectMallOption"}},[e._v(" "+e._s(t)+" ")])}))],2),a("input",{directives:[{name:"model",rawName:"v-model",value:e.searchRestaurant,expression:"searchRestaurant"}],attrs:{type:"text",placeholder:"Search Restaurant Name",id:"filterRestaurant"},domProps:{value:e.searchRestaurant},on:{input:function(t){t.target.composing||(e.searchRestaurant=t.target.value)}}}),a("button",{attrs:{type:"button",id:"filterSort",title:"Sort by ______"},on:{click:function(t){return e.changeOrder()}}},[a("sortIcon",{staticClass:"icon",attrs:{title:"Sort by _______"}})],1)]),a("div",{attrs:{id:"summary"}},[a("div",{attrs:{id:"numRestaurant"}},[a("p",{attrs:{id:"numRestaurantVal"}},[e._v(e._s(e.summaryData.length))]),a("p",[e._v("Restaurants in "+e._s(e.location))])]),a("div",{attrs:{id:"note"}})]),a("div",{attrs:{id:"dashboard"}},[a("ul",e._l(e.getGroupedData(),(function(t,r){return a("li",{key:r},[a("h3",{staticStyle:{"padding-left":"20px"}},[e._v(e._s(r))]),a("table",[e._m(0,!0),a("tr",[a("td",[e._v("1 to 2 people")]),a("td",[e._v(e._s(e.getQueueNumber(r,"1 to 2 people")))]),a("td",[e._v(e._s(e.getNumWaiting(e.getQueueNumber(r,"1 to 2 people"),t["1 to 2 people"]||0)))]),a("td",[e._v(e._s(5*e.getNumWaiting(e.getQueueNumber(r,"1 to 2 people"),t["1 to 2 people"]||0))+" minutes")])]),a("tr",[a("td",[e._v("3 to 4 people")]),a("td",[e._v(e._s(e.getQueueNumber(r,"3 to 4 people")))]),a("td",[e._v(e._s(e.getNumWaiting(e.getQueueNumber(r,"3 to 4 people"),t["3 to 4 people"]||0)))]),a("td",[e._v(e._s(6*e.getNumWaiting(e.getQueueNumber(r,"3 to 4 people"),t["3 to 4 people"]||0))+" minutes")])]),a("tr",[a("td",[e._v("5 or more people")]),a("td",[e._v(e._s(e.getQueueNumber(r,"5 or more people")))]),a("td",[e._v(e._s(e.getNumWaiting(e.getQueueNumber(r,"5 or more people"),t["5 or more people"]||0)))]),a("td",[e._v(e._s(8*e.getNumWaiting(e.getQueueNumber(r,"5 or more people"),t["5 or more people"]||0))+" minutes")])])])])})),0)])])],1)},Je=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("th",[e._v("No. Pax")]),a("th",[e._v("Queue Number")]),a("th",[e._v("No. Groups Waiting")]),a("th",[e._v("Estimated Waiting Time")])])}],ze=a("ade3"),Ve=(a("159b"),a("13d5"),a("d378")),Ze={data:function(){return{mallsList:["All"],currentQueue:[],filterMall:null,searchRestaurant:null,sortBy:"asc",displayedData:[],summaryData:[],location:""}},components:{sortIcon:Ve["a"]},watch:{filterMall:function(){var e,t=this.filterQuery();this.displayedData=this.getDataFromQuery(t),"All"==this.filterMall?(this.location="Total",e=_.collection("restaurants")):(this.location=this.filterMall,e=_.collection("restaurants").where("mallName","==",this.filterMall)),this.summaryData=this.getDataFromQuery(e)},searchRestaurant:function(){var e=this.filterQuery();this.displayedData=this.getDataFromQuery(e)}},methods:{changeOrder:function(){"asc"==this.sortBy?this.sortBy="desc":this.sortBy="asc";var e=this.filterQuery();this.displayedData=this.getDataFromQuery(e)},filterQuery:function(){var e=_.collection("bookings").where("queueStatus",">","completed");return e=e.orderBy("queueStatus"),"All"!=this.filterMall&&(e=e.where("mallName","==",this.filterMall)),this.searchRestaurant&&(e=e.where("restaurantName","==",this.searchRestaurant)),e},getDataFromQuery:function(e){var t=[];return e.get().then((function(e){e.docs.forEach((function(e){t.push(e.data())}))})),t},getGroupedData:function(){var e=function(e){return e.reduce((function(e,t){var a=e[t.restaurantMall]||0;if(0==a)return Object.assign({},e,Object(ze["a"])({},t.restaurantMall,Object(ze["a"])({},t.paxGroup,a+parseInt(1))));var r=e[t.restaurantMall][t.paxGroup]||0,n=Object.assign({},e[t.restaurantMall],Object(ze["a"])({},t.paxGroup,r+parseInt(1)));return Object.assign({},e,Object(ze["a"])({},t.restaurantMall,n))}),{})};return e(this.displayedData)},getQueueNumber:function(e,t){for(var a=0;a<this.currentQueue.length;a++)if(this.currentQueue[a].restaurantMall===e&&this.currentQueue[a].paxGroup===t)return this.currentQueue[a].queueNumber;return"Empty"},getNumWaiting:function(e,t){return"Empty"===e?t:t-1},fetchData:function(){var e=this;_.collection("malls").get().then((function(t){t.docs.forEach((function(t){var a=t.data();e.mallsList.push(a.mallName)}))})),this.filterMall=this.mallsList[0],_.collection("bookings").where("queueStatus","==","current").get().then((function(t){t.docs.forEach((function(t){e.currentQueue.push(t.data())}))}))}},created:function(){this.fetchData()}},Ke=Ze,Xe=(a("0d09"),Object(l["a"])(Ke,Fe,Je,!1,null,"2afe0d56",null)),et=Xe.exports,tt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("NavBar"),a("div",{attrs:{id:"wrapper"}},[a("h1",[e._v("Malls")]),a("ul",{attrs:{id:"malls"}},e._l(e.mallsList,(function(t){return a("li",{key:t.id,staticClass:"mall-items"},[a("h2",[e._v(e._s(t.mallName))]),a("h3",[e._v(e._s(t.address))]),a("h3",[e._v("Singapore "+e._s(t.postalCode))])])})),0),a("Map")],1)],1)},at=[],rt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hello"},[a("h1",[e._v(e._s(e.msg))]),a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("kendo-map",{staticStyle:{width:"100%",height:"500px","margin-left":"35px"},attrs:{center:[1.3051315545985274,103.83224131197983],zoom:12}},[a("kendo-map-layer",{attrs:{type:"tile","url-template":"https://#= subdomain #.tile.openstreetmap.org/#= zoom #/#= x #/#= y #.png",subdomains:["a","b","c"],attribution:"&copy; <a href='https://osm.org/copyright'> OpenStreetMap contributors</a>"}},[e._v(" // ION Orchard ")]),a("kendo-map-marker",{attrs:{location:[1.3041594102285439,103.83223014972324]}}),e._v(" // Jewel Changi Airport "),a("kendo-map-marker",{attrs:{location:[1.3604823693988464,103.98973855951958]}}),e._v(" // Westgate "),a("kendo-map-marker",{attrs:{location:[1.334732192769414,103.74266480212091]}}),e._v(" // VivoCity "),a("kendo-map-marker",{attrs:{location:[1.2646123613498939,103.8221963711645]}}),e._v(" // Bugis Junction "),a("kendo-map-marker",{attrs:{location:[1.299140962845494,103.85543758280939]}}),e._v(" // Suntec City "),a("kendo-map-marker",{attrs:{location:[1.295360041820001,103.85918464574937]}})],1)],1)])])},nt=[],it={name:"Map",props:{msg:String}},st=it,ot=(a("0ef9"),Object(l["a"])(st,rt,nt,!1,null,"211cec93",null)),ut=ot.exports,ct={name:"Malls",data:function(){return{mallsList:[]}},components:{Map:ut},methods:{fetchItems:function(){var e=this;_.collection("malls").get().then((function(t){var a={};t.forEach((function(t){a=t.data(),a.show=!1,a.id=t.id,e.mallsList.push(a)}))}))}},created:function(){this.fetchItems()}},lt=ct,dt=(a("941e"),Object(l["a"])(lt,tt,at,!1,null,"5f5a33f7",null)),mt=dt.exports,ht=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("NavBar"),a("div",{attrs:{id:"wrapper"}},[a("h1",[e._v("Join a Queue")]),a("div",{attrs:{id:"img"}},[a("img",{attrs:{src:e.restaurantImage}})]),a("div",{attrs:{id:"form"}},[a("form",{on:{submit:function(t){return t.preventDefault(),e.joinQueue()}}},[e._m(0),a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.mallSelected,expression:"mallSelected"}],attrs:{id:"mall",required:""},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.mallSelected=t.target.multiple?a:a[0]},function(t){return e.selectRestaurants()}]}},e._l(e.mallsList,(function(t){return a("option",{key:t.id},[e._v(" "+e._s(t.mallName)+" ")])})),0)]),e._m(1),a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.restaurantSelected,expression:"restaurantSelected"}],attrs:{required:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.restaurantSelected=t.target.multiple?a:a[0]}}},e._l(e.selectedRestaurantsList,(function(t){return a("option",{key:t.id,attrs:{required:""},domProps:{value:t}},[e._v(" "+e._s(t.restaurantName)+" ")])})),0)]),e._m(2),a("p",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.numAdult,expression:"numAdult"}],attrs:{type:"number",id:"numAdult",required:""},domProps:{value:e.numAdult},on:{input:function(t){t.target.composing||(e.numAdult=t.target.value)}}})]),e._m(3),a("p",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.numChildren,expression:"numChildren"}],attrs:{type:"number",id:"numChildren"},domProps:{value:e.numChildren},on:{input:function(t){t.target.composing||(e.numChildren=t.target.value)}}})]),a("p",{staticClass:"checkbox"},[a("label",{attrs:{for:"babychair"}},[e._v(" Baby Chair "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.babyChair,expression:"babyChair"}],attrs:{type:"checkbox",id:"babychair",value:"1"},domProps:{checked:Array.isArray(e.babyChair)?e._i(e.babyChair,"1")>-1:e.babyChair},on:{change:function(t){var a=e.babyChair,r=t.target,n=!!r.checked;if(Array.isArray(a)){var i="1",s=e._i(a,i);r.checked?s<0&&(e.babyChair=a.concat([i])):s>-1&&(e.babyChair=a.slice(0,s).concat(a.slice(s+1)))}else e.babyChair=n}}}),a("span",{staticClass:"checkmark"})])]),a("p",{staticClass:"checkbox"},[a("label",{attrs:{for:"wheelchair"}},[e._v(" Wheelchair "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.wheelChair,expression:"wheelChair"}],attrs:{type:"checkbox",id:"wheelchair",value:"1"},domProps:{checked:Array.isArray(e.wheelChair)?e._i(e.wheelChair,"1")>-1:e.wheelChair},on:{change:function(t){var a=e.wheelChair,r=t.target,n=!!r.checked;if(Array.isArray(a)){var i="1",s=e._i(a,i);r.checked?s<0&&(e.wheelChair=a.concat([i])):s>-1&&(e.wheelChair=a.slice(0,s).concat(a.slice(s+1)))}else e.wheelChair=n}}}),a("span",{staticClass:"checkmark"})])]),e._m(4),a("p",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.additionalMessage,expression:"additionalMessage"}],attrs:{id:"additionalMessage",rows:"4",cols:"50",placeholder:"Any additonal message"},domProps:{value:e.additionalMessage},on:{input:function(t){t.target.composing||(e.additionalMessage=t.target.value)}}})]),e._m(5),e._m(6)])])])],1)},pt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[a("label",{attrs:{for:"mall"}},[e._v("Choose your preferred dining mall"),a("span",{staticStyle:{color:"red"}},[e._v("*")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[a("label",{attrs:{for:"restaurant"}},[e._v("Choose your preferred dining restaurant"),a("span",{staticStyle:{color:"red"}},[e._v("*")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[a("label",{attrs:{for:"numAdult"}},[e._v("No. of Pax (Adult)"),a("span",{staticStyle:{color:"red"}},[e._v("*")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[a("label",{attrs:{for:"numChildren"}},[e._v(" No. of Pax (Children) ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[a("label",{attrs:{for:"additionalMessage"}},[e._v("Message")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[a("b",[e._v("* Full party")]),e._v(" must be present for "),a("span",{staticStyle:{color:"red"}},[e._v("at least 5 minutes before reservation time")]),e._v(" to be seated."),a("br"),e._v("We regret to inform that queue seatings will be given up if you are late due to the limited seating capacity. ")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"button"}},[a("button",{attrs:{type:"submit"}},[e._v("Join Queue")])])}],ft=(a("d3b7"),a("25f0"),a("4de4"),{data:function(){return{mallsList:["All"],restaurantsList:[],selectedRestaurantsList:[],customerID:"".concat(b.currentUser.uid),customerName:"",mallSelected:"",restaurantSelected:"",numAdult:null,numChildren:null,babyChair:0,wheelChair:0,additionalMessage:"",restaurantImage:a("d22e"),queueNum:0,queueNumId:""}},methods:{joinQueue:function(){var e=this.getPaxGroup(this.numAdult,this.numChildren),t=this.restaurantSelected.restaurantName,a=this.mallSelected;this.getArrivalTime(e,t,a)},getCurrentTime:function(){var e=new Date;return e.toString()},getArrivalTime:function(e,t,a){var r=this,n=0;_.collection("bookings").get().then((function(r){r.docs.forEach((function(r){var i=r.data();i.paxGroup===e&&i.restaurantName===t&&i.mallName===a&&"waiting"===i.queueStatus&&(n+=1)}))})).then((function(){var i=r.getCurrentTime(),s=Date.parse(i)+27e5*n,o=new Date(s).toString();_.collection("bookings").add({customerID:r.customerID,customerName:r.customerName,mallName:a,restaurantName:t,restaurantMall:t+" @ "+a,numAdult:r.numAdult,numChildren:r.numChildren,paxGroup:e,queueNumber:r.getQueueNumber(r.numAdult,r.numChildren),babyChair:r.babyChair,wheelChair:r.wheelChair,additionalMessage:r.additionalMessage,queueStatus:"waiting",bookedTiming:i,restaurantId:r.restaurantSelected.id,arrivalTime:o}),alert("Successfully joined queue. Please arrive at "+t+" @ "+a+" by "+o+"."),r.$router.push("/myprofile")}))},calculatePax:function(e,t){var a=0;return null!==t&&(a=t),parseInt(e,10)+a},getPaxGroup:function(e,t){var a,r=this.calculatePax(e,t);return a=r<3?"1 to 2 people":r<5?"3 to 4 people":"5 or more people",a},getQueueNumber:function(e,t){var a,r=this,n=this.calculatePax(e,t);a=n<3?"A":n<5?"B":"C",_.collection("queueNumbers").get().then((function(e){e.docs.forEach((function(e){"A"===a?(r.queueNum=e.data().queueNumA,r.queueNumId=e.id):"B"===a?(r.queueNum=e.data().queueNumB,r.queueNumId=e.id):(r.queueNum=e.data().queueNumC,r.queueNumId=e.id)}))})),this.queueNum+=1;var i=String(this.queueNum);while(i.length<4)i="0"+i;var s=a+i;return"A"===a?_.collection("queueNumbers").doc(this.queueNumId).update({queueNumA:this.queueNum}):"B"===a?_.collection("queueNumbers").doc(this.queueNumId).update({queueNumB:this.queueNum}):_.collection("queueNumbers").doc(this.queueNumId).update({queueNumC:this.queueNum}),alert(s),s},getDetails:function(){var e=this;_.collection("malls").get().then((function(t){t.docs.forEach((function(t){var a=t.data();e.mallsList.push(a)}))})),_.collection("restaurants").get().then((function(t){t.docs.forEach((function(t){var a=t.data();a.id=t.id,e.restaurantsList.push(a)}))})),_.collection("users").doc("".concat(b.currentUser.uid)).get().then((function(t){e.customerName=t.data().name}))},selectRestaurants:function(){var e=this,t=this.restaurantsList.filter((function(t){return t.mallName==e.mallSelected}));this.selectedRestaurantsList=t}},created:function(){this.getDetails()}}),vt=ft,gt=(a("1195"),Object(l["a"])(vt,ht,pt,!1,null,"72c14fcb",null)),_t=gt.exports,bt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("NavBar"),a("div",{attrs:{id:"wrapper"}},[0==this.editProfile&&0==this.changePassword?a("div",{attrs:{id:"profile"}},[a("div",{attrs:{id:"profileIcon"}},[a("profileIcon",{attrs:{size:200}})],1),a("div",{attrs:{id:"details"}},[a("p",{staticClass:"name"},[e._v(e._s(this.name))]),a("p",{staticClass:"details"},[e._v("Email Address: "+e._s(this.email))]),a("p",{staticClass:"details"},[e._v("Contact Number: "+e._s(this.contact))]),a("p",{staticClass:"details"},[e._v("Date of Birth: "+e._s(this.dob))]),a("button",{on:{click:function(t){return e.edit()}}},[e._v("Edit Profile")]),a("button",{on:{click:function(t){return e.change()}}},[e._v("Change Password")])])]):e._e(),a("br"),0==this.editProfile&&0==this.changePassword?a("h2",[e._v(" Current Queue Details ")]):e._e(),0==this.editProfile&&0==this.changePassword?a("div",{attrs:{id:"currentQueue"}},[""!=this.waitingRestaurant?a("div",{attrs:{id:"currentQueueDetails"}},[a("p",[e._v(" Please arrive at "+e._s(this.waitingRestaurant)+" @ "+e._s(this.waitingMall)+" by "+e._s(this.arrivalTime)+". ")]),a("p",[e._v("Details:")]),a("span",[e._v("No. of Pax (Adult): "+e._s(this.numOfAdult))]),a("br"),a("span",[e._v("No. of Pax (Children): "+e._s(this.numOfChildren))]),a("br"),a("span",[e._v("Baby Chair: "+e._s(this.babychair))]),a("br"),a("span",[e._v("Wheelchair: "+e._s(this.wheelchair)+" ")]),a("br")]):e._e(),""==this.waitingRestaurant?a("div",{attrs:{id:"currentQueueDetails"}},[a("p",{staticClass:"notInQ"},[e._v("Currently not in any queue. Click on 'Join a Queue' to join a queue.")])]):e._e()]):e._e(),0==this.editProfile&&0==this.changePassword?a("p",{staticClass:"note"},[e._v(" Note: Full party must be present to be seated. "),a("br"),e._v(" The queue seatings will be given up if you are late due to limited seating capacity. ")]):e._e(),0==this.editProfile&&0==this.changePassword?a("h2",[e._v(" Queue History ")]):e._e(),0==this.editProfile&&0==this.changePassword?a("div",{attrs:{id:"queueHistory"}},[a("div",{attrs:{id:"queueHistoryDetails"}},[a("ul",[e._l(e.history,(function(t){return a("li",{key:t.id},[e._v(" "+e._s(t.restaurantMall)+" "),a("rating",{attrs:{restaurantId:t.restaurantId},on:{updateRating:e.ratingUpdated}}),a("button",{on:{click:function(t){return e.rate()}}},[e._v("Rate")])],1)})),a("br")],2)])]):e._e(),1==this.editProfile&&0==this.changePassword?a("div",{attrs:{id:"editProfile"}},[a("div",{attrs:{id:"profileIcon"}},[a("profileIcon",{attrs:{size:200}})],1),a("div",{attrs:{id:"editDetails"}},[a("p",{staticClass:"editDetails"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{input:"",type:"text",name:"name",id:"name",placeholder:"Name",required:""},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),a("p",{staticClass:"editDetails"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.contact,expression:"contact"}],attrs:{type:"tel",name:"contact",id:"contact",placeholder:"Contact Number",required:""},domProps:{value:e.contact},on:{input:function(t){t.target.composing||(e.contact=t.target.value)}}})]),a("p",{staticClass:"editDetails"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.dob,expression:"dob"}],attrs:{type:"date",name:"dob",id:"dob",placeholder:"Date of Birth",required:""},domProps:{value:e.dob},on:{input:function(t){t.target.composing||(e.dob=t.target.value)}}})]),a("button",{on:{click:function(t){return e.edit()}}},[e._v("Save")]),a("button",{on:{click:function(t){return e.cancel()}}},[e._v("Cancel")])])]):e._e(),1==this.changePassword&&0==this.editProfile?a("div",{attrs:{id:"changePassword"}},[a("div",{attrs:{id:"profileIcon"}},[a("profileIcon",{attrs:{size:200}})],1),a("div",{attrs:{id:"editPassword"}},[a("p",{staticClass:"editPassword"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.oldPassword,expression:"oldPassword"}],attrs:{type:"password",name:"oldPassword",id:"oldPassword",placeholder:"Old Password",required:""},domProps:{value:e.oldPassword},on:{input:function(t){t.target.composing||(e.oldPassword=t.target.value)}}})]),a("p",{staticClass:"editPassword"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newPassword,expression:"newPassword"}],attrs:{type:"password",name:"newPassword",id:"newPassword",placeholder:"New Password",required:""},domProps:{value:e.newPassword},on:{input:function(t){t.target.composing||(e.newPassword=t.target.value)}}})]),a("p",{staticClass:"editPassword"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.confirmPassword,expression:"confirmPassword"}],attrs:{type:"password",name:"confirmPassword",id:"confirmPassword",placeholder:"Confirm New Password",required:""},domProps:{value:e.confirmPassword},on:{input:function(t){t.target.composing||(e.confirmPassword=t.target.value)}}})]),a("button",{on:{click:function(t){return e.change()}}},[e._v("Save")]),a("button",{on:{click:function(t){return e.cancel()}}},[e._v("Cancel")])])]):e._e()])],1)},yt=[],wt=a("c90c"),Ct=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Rating",{attrs:{clearable:!0},on:{"rating-selected":e.setRating}})],1)},Pt=[],Nt=a("5b3d"),kt=a.n(Nt),Dt={data:function(){return{rating:0}},components:{Rating:kt.a},props:{restaurantId:String},methods:{setRating:function(e){this.rating=e,this.$emit("updateRating",e,this.restaurantId)}}},xt=Dt,Mt=Object(l["a"])(xt,Ct,Pt,!1,null,null,null),qt=Mt.exports,It={data:function(){return{userid:"",editProfile:!1,changePassword:!1,name:"",email:"",contact:null,dob:"",oldPassword:null,newPassword:null,confirmPassword:null,numOfAdult:0,numOfChildren:0,babychair:0,wheelchair:0,waitingRestaurant:"",waitingMall:"",arrivalTime:"",history:[],rating:0,rateRestId:"",rateTtlRatings:0,rateNumRatings:0}},methods:{fetchItems:function(){var e=this;_.collection("users").doc("".concat(b.currentUser.uid)).get().then((function(t){e.name=t.data().name,e.email=t.data().email,e.contact=t.data().contact,e.dob=t.data().dob,e.userid=t.data().customerID}))},edit:function(){0==this.editProfile?this.editProfile=!0:(_.collection("users").doc("".concat(b.currentUser.uid)).update({name:this.name,contact:this.contact,dob:this.dob}),this.editProfile=!1,alert("Profile successfully updated."))},reauthenticate:function(e){var t=b.currentUser,a=v.a.auth.EmailAuthProvider.credential(t.email,e);return t.reauthenticateWithCredential(a)},change:function(){var e=this;0==this.changePassword?this.changePassword=!0:this.reauthenticate(this.oldPassword).then((function(){e.newPassword.length<6?alert("Password must contain at least 6 characters. Please check your password and try again."):e.newPassword!=e.confirmPassword?alert("Passwords do not match. Please check your password and try again."):b.currentUser.updatePassword(e.newPassword).then((function(){alert("Password successfully changed."),e.changePassword=!1,e.editProfile=!1}))})).catch((function(e){"auth/wrong-password"==e.code&&alert("The current password you entered is wrong. Please check your current password and try again.")}))},cancel:function(){1==this.editProfile?(this.editProfile=!1,this.changePassword=!1):(this.changePassword=!1,this.editProfile=!1)},getCurrentAndHist:function(){var e=this;_.collection("bookings").get().then((function(t){t.docs.forEach((function(t){var a=t.data();e.userid===a.customerID&&"waiting"===a.queueStatus?(e.numOfAdult=a.numAdult,e.numOfChildren=a.numChildren,e.babychair=a.babyChair,e.wheelchair=a.wheelChair,e.waitingMall=a.mallName,e.waitingRestaurant=a.restaurantName,e.arrivalTime=a.arrivalTime):e.userid===a.customerID&&"completed"===a.queueStatus&&e.history.push(a)}))}))},ratingUpdated:function(e,t){this.rating=e,this.rateRestId=t},rate:function(){var e=this;_.collection("restaurants").get().then((function(t){t.docs.forEach((function(t){t.id===e.rateRestId&&(e.rateTtlRatings=t.data().totalRatings,e.rateNumRatings=t.data().numRatings)}))})),_.collection("restaurants").doc(this.rateRestId).update({rating:(this.rating+this.rateTtlRatings)/(this.rateNumRatings+1),totalRatings:this.rating+this.rateTtlRatings,numRatings:this.rateNumRatings+1}),alert("Restaurant successfully rated.")}},created:function(){this.fetchItems(),this.getCurrentAndHist()},components:{profileIcon:wt["a"],rating:qt}},St=It,Ot=(a("a412"),Object(l["a"])(St,bt,yt,!1,null,"2f83b78e",null)),At=Ot.exports,Qt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Restaurant Queue System")]),a("div",{staticClass:"logout"},[a("LogOutButton")],1),a("div",{attrs:{id:"currToCompleted"}},[a("h2",[e._v(" - Current Queue Number - ")]),a("table",[e._m(0),e._l(e.currentQueueNumber,(function(t){return a("tr",{key:t.id},[a("td",[e._v(" "+e._s(t["paxGroup"])+" ")]),a("td",[e._v(" "+e._s(t["queueNumber"])+" ")]),a("td",[e._v(" "+e._s(t["customerID"])+" ")]),a("td",[e._v(" "+e._s(t["babyChair"])+" ")]),a("td",[e._v(" "+e._s(t["wheelChair"])+" ")]),a("td",[e._v(" "+e._s(t["additionalMessage"])+" ")]),a("td",[a("button",{on:{click:function(a){return e.changeStatus(t["queueNumber"],"completed")}}},[e._v(" Have Arrived ")])])])}))],2)]),a("div",{attrs:{id:"waitingToCurr"}},[a("h2",[e._v(" - Waiting Queue Numbers - ")]),a("table",[e._m(1),e._l(e.waitingQueue,(function(t){return a("tr",{key:t.id},[a("td",[e._v(" "+e._s(t["paxGroup"])+" ")]),a("td",[e._v(" "+e._s(t["queueNumber"])+" ")]),a("td",[e._v(" "+e._s(t["customerID"])+" ")]),a("td",[e._v(" "+e._s(t["babyChair"])+" ")]),a("td",[e._v(" "+e._s(t["wheelChair"])+" ")]),a("td",[e._v(" "+e._s(t["additionalMessage"])+" ")]),a("td",[e._v(" "+e._s(t["arrivalTime"])+" ")]),a("td",[a("button",{on:{click:function(a){return e.changeStatus(t["queueNumber"],"current")}}},[e._v(" Push to Current ")])])])}))],2)])])},Rt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("th",[e._v("No. Pax")]),a("th",[e._v("Current Queue Number")]),a("th",[e._v("Customer ID")]),a("th",[e._v("Baby Chair")]),a("th",[e._v("Wheel Chair")]),a("th",[e._v("Additional Message")]),a("th",[e._v("Button")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("th",[e._v("No. Pax")]),a("th",[e._v("Queue Number")]),a("th",[e._v("Customer ID")]),a("th",[e._v("Baby Chair")]),a("th",[e._v("Wheel Chair")]),a("th",[e._v("Additional Message")]),a("th",[e._v("Arrival Time")]),a("th",[e._v("Button")])])}],jt={data:function(){return{currentQueueNumber:this.queueData("current"),waitingQueue:this.queueData("waiting")}},methods:{getDataFromQuery:function(e){var t=[];return e.get().then((function(e){e.docs.forEach((function(e){t.push(e.data())}))})),t},queueData:function(e){var t=_.collection("bookings").where("restaurantId","==","".concat(b.currentUser.uid)).where("queueStatus","==",e);return this.getDataFromQuery(t)},changeStatus:function(e,t){_.collection("bookings").where("restaurantId","==","".concat(b.currentUser.uid)).where("queueNumber","==",e).limit(1).get().then((function(e){var a=e.docs[0];a.ref.update({queueStatus:t})}))}}},Et=jt,$t=(a("b7be"),Object(l["a"])(Et,Qt,Rt,!1,null,"bae7713e",null)),Bt=$t.exports,Tt=[{path:"/home",name:"Home",component:Ge,meta:{authRequired:!0}},{path:"/malls",name:"Malls",component:mt,meta:{authRequired:!0}},{path:"/myprofile",name:"Profile",component:At,meta:{authRequired:!0}},{path:"/joinq",name:"JoinQ",component:_t,meta:{authRequired:!0}},{path:"/waitingqueue",name:"WaitingQueue",component:et,meta:{authRequired:!0}},{path:"/signup",name:"Signup",component:P},{path:"/",name:"Login",component:Ae},{path:"/restauranthome",name:"RestaurantHome",component:Bt,meta:{authRequired:!0}}],Wt=a("2025");i["default"].config.productionTip=!1,i["default"].component("NavBar",R),i["default"].component("Signup",P),i["default"].component("Calendar",ke),i["default"].component("Login",Ae),i["default"].component("LogOutButton",Be),i["default"].use(Te["a"]),i["default"].use(Wt["MapInstaller"]);var Lt=new Te["a"]({routes:Tt,mode:"history"});Lt.beforeEach((function(e,t,a){e.matched.some((function(e){return e.meta.authRequired}))?n.a.auth().currentUser?a():(alert("You must be logged in to see this page"),a({path:"/"})):a()})),new i["default"]({render:function(e){return e(m)},router:Lt}).$mount("#app")},5814:function(e,t,a){},"62c4":function(e,t,a){},6460:function(e,t,a){},6895:function(e,t,a){"use strict";a("de15")},"79d4":function(e,t,a){"use strict";a("9daa")},"800d":function(e,t,a){},"85ef":function(e,t,a){"use strict";a("aac5")},"92fe":function(e,t,a){"use strict";a("fb00")},"941e":function(e,t,a){"use strict";a("f6fb")},"9daa":function(e,t,a){},a16c:function(e,t,a){},a412:function(e,t,a){"use strict";a("b3ef")},aac5:function(e,t,a){},b3ef:function(e,t,a){},b7be:function(e,t,a){"use strict";a("62c4")},bbce:function(e,t,a){},bdb7:function(e,t,a){"use strict";a("e5bb")},c0af:function(e,t,a){"use strict";a("0e75")},caa2:function(e,t,a){"use strict";a("bbce")},d22e:function(e,t,a){e.exports=a.p+"img/joinQ-restaurant.c047e23c.jpg"},d98f:function(e,t,a){"use strict";a("a16c")},de15:function(e,t,a){},e5bb:function(e,t,a){},eab7:function(e,t,a){},f6fb:function(e,t,a){},fb00:function(e,t,a){}});
//# sourceMappingURL=app.8d3f70f5.js.map